# 検査データ管理・表記に関する絶対ルール

本ドキュメントは、本システムにおける検査データの管理構造および表記に関する基本方針を定めるものである。

## 1. 名寄せ（正規化）の徹底

病院や検査機関、使用アセット（OCRエンジン等）によって、同一の検査項目であっても表記揺れが発生する（例：「IGF-1」と「ソマトメジンC」）。これらをシステム上で同一のデータとして扱うために、以下のルールを徹底する。

*   **マスタ管理**: 必ず「正しい項目」を定義したマスタテーブルを持つこと。
*   **シノニム（エイリアス）管理**: マスタには `synonyms`（同義語・別名）リストを持たせ、「G-GTP」「γ-GTP」「ガンマGTP」など、既知の表記揺れを事前に登録しておくこと。
*   **自動正規化**: データ取り込み時（OCR/手入力）には、必ずこのシノニムリストと照合を行い、自動的に正しいシステムID（System Name）に紐付けること。

## 2. 3層の名称保持と出し分け

データの柔軟性と堅牢性を両立するため、検査項目名は以下の3層構造で保持・管理する。

### 層の定義

| 層 | 名称 (英) | 定義 | 用途 | 例 |
| :--- | :--- | :--- | :--- | :--- |
| **第1層** | **System Name** | プログラムで扱う不変のID | データベースの主キー、APIのパラメータ、集計処理 | `ldl_cholesterol` |
| **第2層** | **Standard Name** | 医療的な正式名称 | マスタデータとしての正称、データ交換時の標準名 | `LDLコレステロール` |
| **第3層** | **Display Name** | ユーザー向けの表示名 | UI上での表示（最も優先される）、ユーザーが理解しやすい通称 | `悪玉コレステロール` |

### UI表示ルール

*   ユーザーインターフェース（画面）上では、原則として **Display Name（第3層）** を最優先で表示すること。
*   Display Nameが設定されていない場合は、Standard Name（第2層）を表示する。

## 3. 参照ソースの指定

独自定義によるガラパゴス化を防ぐため、名称の定義や標準化にあたっては以下の公的・標準規格をベース（参照ソース）とする。

*   **JLAC10（日本臨床検査項目分類コード）**
    *   日本臨床検査医学会が定める標準コード。
*   **厚労省 特定健診・標準マスタ**
    *   特定健康診査で使用される標準的な項目定義。

マスタデータの構築時は、これらのコード体系や名称定義を参照し、可能な限り準拠すること。
